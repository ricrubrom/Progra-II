ORG 1000H
TABLA DB 1,4,5,3,10,7,14,78,23,18
VALOR DB 3

ORG 3000H
SUMA: PUSH CX
PUSH DX
MOV BX,SP
ADD BX, 6H
MOV AL, [BX]
ADD BX,2H
MOV BX,[BX]
ADD [BX],AL
POP DX
POP CX
RET


ORG 2000H
MOV CX, OFFSET VALOR
SUB CX, OFFSET TABLA;CX=LONG
FOR: MOV BX, OFFSET TABLA
ADD BX,CX
DEC BX
MOV AL,VALOR
PUSH BX
PUSH AX
CALL SUMA
DEC CX
JNZ FOR
HLT
END