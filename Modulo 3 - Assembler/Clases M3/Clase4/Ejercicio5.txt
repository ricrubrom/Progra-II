ORG 1000H
TABLA DB 1,4,5,3
VALOR DB 3

ORG 3000H
SUMA: PUSHF
MOV BX,SP
ADD BX, 4
MOV AL, [BX]
ADD BX, 2
MOV BX,[BX]
ADD [BX],AL
POPF
RET


ORG 2000H
MOV DX, OFFSET VALOR
MOV BX, OFFSET TABLA
MOV AL, VALOR
FOR: CMP BX, DX
JZ FIN
PUSH BX
PUSH AX
CALL SUMA
POP AX
POP BX
INC BX
JNZ FOR
FIN: HLT
END