ORG 1000H
TABLA_A DB 1, 20, 5, 4, 30
CANT DB ?
MENOR_A EQU 20

ORG 3000H
RUTINA: PUSH AX
PUSH CX
PUSH DX
MOV BX,SP
ADD BX,8
MOV BX,[BX]
MOV AL,[BX]
MOV CX,0
FOR: INC CH
ADD CL,CH
CMP CH,AL
JNZ FOR
FINR: MOV [BX],CL
POP DX
POP CX
POP AX
RET



ORG 2000H
MOV AX, OFFSET CANT
MOV BX, OFFSET TABLA_A
MOV DL,0 ;CONTADOR
WHILE:CMP AX,BX
JZ FIN
CMP BYTE PTR [BX],MENOR_A  ;IF
JNS SIGUE
THEN:PUSH BX
CALL RUTINA
POP BX
INC DL
SIGUE: INC BX
JMP WHILE

FIN: MOV CANT,DL
HLT
END